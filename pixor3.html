<!DOCTYPE html>

<html>
    <head>
      <!--  <script src="https://cdn.jsdelivr.net/npm/p5@1.3.0/lib/p5.js"></script>-->
    </head>

    <body>
        <center>
        <input id="inp" type="text"> <input id="butto" type="button" value="Art me up" onclick="GFI()"> <br> <br>
        <canvas id="main" width="300" height="500">    
        </canvas>
        <br>
        <!-- <a id="downloadLnk" download="pixor.png"> <input type="button" onclick="download()" value="Save Me!"/></a>-->
        <input type="button" value="Save Me!" onclick="saveImage()" >
        </center>
    </body>
</html>

<script>

    var colors = ["black","orange","yellow","green","blue","indigo","violet","brown","white","red","grey","pink"];

    // Get the input field
    var inputVal = document.getElementById("inp");

    // Execute a function when the user releases a key on the keyboard
    inputVal.addEventListener("keyup", function(event) {
    
    // Number 13 is the "Enter" key on the keyboard
    if (event.keyCode === 13) {
        // Cancel the default action, if needed
        event.preventDefault();
        // Trigger the button element with a click
        document.getElementById("butto").click();
    }
    });


    function GFI(){
        
    }


    function saveImage() {
				var ua = window.navigator.userAgent;

				if (ua.indexOf("Chrome") > 0) {
					var canvas = document.getElementById("main");
                    var name = document.getElementById("inp");
					// save image as png
					var link = document.createElement('a');
    				link.download = name.value+".png";
    				link.href = canvas.toDataURL("image/png").replace("image/png", "image/octet-stream");;
    				link.click();
				}
				else {
					alert("Please use Chrome");
				}
			}

</script>